{"version":3,"file":"reactjs-popup.min.js","sources":["../src/Utils.js","../src/index.css.js","../src/BodyEnd.js","../src/index.js"],"sourcesContent":["/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\n\nfunction getCoordinatesForPosition(\n  triggerBounding,\n  ContentBounding,\n  position,\n  arrow,\n  {offsetX, offsetY},\n) {\n  const margin = arrow ? 8 : 0;\n  const args = position.split(' ');\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const {height, width} = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = '';\n  let arrowTop = '0%';\n  let arrowLeft = '0%';\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(45deg)`;\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(225deg)`;\n      arrowLeft = '50%';\n      break;\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = ` rotate(-45deg)`;\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = `rotate(135deg)`;\n      arrowTop = '50%';\n      break;\n    default:\n  }\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = `${triggerBounding.height / 2}px`;\n      break;\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = `${height - triggerBounding.height / 2}px`;\n      break;\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = `${triggerBounding.width / 2}px`;\n      break;\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = `${width - triggerBounding.width / 2}px`;\n      break;\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n\n  return {top, left, transform, arrowLeft, arrowTop};\n}\n\nexport default function calculatePosition(\n  triggerBounding,\n  ContentBounding,\n  positions,\n  arrow,\n  {offsetX, offsetY},\n  wrapperBox,\n) {\n  let bestCoords;\n  let i = 0;\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(\n      triggerBounding,\n      ContentBounding,\n      positions[i],\n      arrow,\n      {offsetX, offsetY},\n    );\n\n    const contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height,\n    };\n\n    if (\n      contentBox.top <= wrapperBox.top ||\n      contentBox.left <= wrapperBox.left ||\n      contentBox.top + contentBox.height >=\n        wrapperBox.top + wrapperBox.height ||\n      contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width\n    ) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n}\n","export default {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: '2',\n      width: '200px',\n      background: `rgb(255, 255, 255)`,\n      border: `1px solid rgb(187, 187, 187)`,\n      boxShadow: `rgba(0, 0, 0, 0.2) 0px 1px 3px`,\n      padding: '5px',\n    },\n    modal: {\n      position: 'relative',\n      background: `rgb(255, 255, 255)`,\n      width: '50%',\n      margin: 'auto',\n      border: `1px solid rgb(187, 187, 187)`,\n      padding: '5px',\n    },\n  },\n  popupArrow: {\n    height: '10px',\n    width: '10px',\n    position: 'absolute',\n    background: 'rgb(255, 255, 255)',\n    transform: 'rotate(45deg)',\n    margin: '-5px',\n    zIndex: '-1',\n    boxShadow: 'rgba(0, 0, 0, 0.2) 1px 1px 1px',\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      background: `rgba(0, 0, 0,0.5)`,\n      display: 'flex',\n      zIndex: '999',\n    },\n  },\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class BodyEnd extends React.PureComponent {\n\n    static propTypes = {\n        children: PropTypes.node,\n    };\n\n    componentDidMount() {\n        const { className, onClick } = this.props;\n        this._popup = document.createElement('div');\n        //this._popup.onclick = onClick;\n        this._popup.className = className;\n        this._popup.style.cssText = 'position: fixed;top: 0;bottom: 0;left: 0;right: 0;background: rgba(0, 0, 0,0.5); display: flex;zIndex: 999';\n        document.body.appendChild(this._popup);\n        this._render();\n    }\n\n    componentDidUpdate() {\n        this._render();\n    }\n\n    componentWillUnmount() {\n        ReactDOM.unmountComponentAtNode(this._popup);\n        document.body.removeChild(this._popup);\n    }\n\n    _render() {\n        ReactDOM.render(this.props.children, this._popup);\n    }\n\n    render() {\n        return null;\n    }\n}\n","import React from 'react';\nimport calculatePosition from './Utils';\nimport styles from './index.css.js';\nimport BodyEnd from './BodyEnd';\n\nconst POSITION_TYPES = [\n  'top left',\n  'top center',\n  'top right',\n  'right top',\n  'right center',\n  'right bottom',\n  'bottom left',\n  'bottom center',\n  'bottom right',\n  'left top',\n  'left center',\n  'left bottom',\n  'center center',\n];\n\nexport default class Popup extends React.PureComponent {\n  static defaultProps = {\n    trigger: null,\n    onOpen: () => { },\n    onClose: () => { },\n    defaultOpen: false,\n    open: false,\n    disabled: false,\n    closeOnDocumentClick: true,\n    repositionOnResize: true,\n    closeOnEscape: true,\n    on: ['click'],\n    contentStyle: {},\n    arrowStyle: {},\n    overlayStyle: {},\n    className: '',\n    position: 'bottom center',\n    modal: false,\n    lockScroll: false,\n    arrow: true,\n    offsetX: 0,\n    offsetY: 0,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100,\n    keepTooltipInside: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.setTriggerRef = r => (this.TriggerEl = r);\n    this.setContentRef = r => (this.ContentEl = r);\n    this.setArrowRef = r => (this.ArrowEl = r);\n    this.setHelperRef = r => (this.HelperEl = r);\n    this.timeOut = 0;\n    const { open, modal, defaultOpen, trigger } = props;\n    this.state = {\n      isOpen: open || defaultOpen,\n      modal: modal ? true : !trigger,\n      // we create this modal state because the popup can't be a tooltip if the trigger prop doesn't exist\n    };\n  }\n\n  componentDidMount() {\n    const { closeOnEscape, defaultOpen, repositionOnResize } = this.props;\n    if (defaultOpen) {\n      this.setPosition();\n      this.lockScroll();\n    }\n    if (closeOnEscape) {\n      /* eslint-disable-next-line no-undef */\n      window.addEventListener('keyup', this.onEscape);\n    }\n    if (repositionOnResize) {\n      /* eslint-disable-next-line no-undef */\n      window.addEventListener('resize', this.repositionOnResize);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { open, disabled } = this.props;\n    const { isOpen } = this.state;\n    if (prevProps.open !== open) {\n      if (open) this.openPopup();\n      else this.closePopup(undefined, true);\n    }\n    if (prevProps.disabled !== disabled && disabled && isOpen) {\n      this.closePopup();\n    }\n  }\n\n  componentWillUnmount() {\n    // kill any function to execute if the component is unmounted\n    clearTimeout(this.timeOut);\n\n    const { closeOnEscape, repositionOnResize } = this.props;\n    // remove events listeners\n    if (closeOnEscape) {\n      /* eslint-disable-next-line no-undef */\n      window.removeEventListener('keyup', this.onEscape);\n    }\n    if (repositionOnResize) {\n      /* eslint-disable-next-line no-undef */\n      window.removeEventListener('resize', this.repositionOnResize);\n    }\n    this.resetScroll();\n  }\n\n  repositionOnResize = () => {\n    this.setPosition();\n  };\n\n  onEscape = e => {\n    if (e.key === 'Escape') this.closePopup();\n  };\n\n  lockScroll = () => {\n    const { lockScroll } = this.props;\n    const { modal } = this.state;\n    if (modal && lockScroll)\n      /* eslint-disable-next-line no-undef */\n      document.getElementsByTagName('body')[0].style.overflow = 'hidden';\n  };\n\n  resetScroll = () => {\n    const { lockScroll } = this.props;\n    const { modal } = this.state;\n    if (modal && lockScroll)\n      /* eslint-disable-next-line no-undef */\n      document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  togglePopup = e => {\n    // https://reactjs.org/docs/events.html#event-pooling\n    e.persist();\n    if (this.state.isOpen) this.closePopup(e);\n    else this.openPopup(e);\n  };\n\n  openPopup = e => {\n    const { disabled, onOpen } = this.props;\n    const { isOpen } = this.state;\n    if (isOpen || disabled) return;\n    onOpen(e);\n    this.setState({ isOpen: true }, () => {\n      this.setPosition();\n      this.lockScroll();\n    });\n  };\n\n  closePopup = e => {\n    const { onClose } = this.props;\n    const { isOpen } = this.state;\n    if (!isOpen) return;\n    onClose(e);\n    this.setState({ isOpen: false }, () => {\n      this.resetScroll();\n    });\n  };\n\n  onMouseEnter = () => {\n    clearTimeout(this.timeOut);\n    const { mouseEnterDelay } = this.props;\n    this.timeOut = setTimeout(() => this.openPopup(), mouseEnterDelay);\n  };\n\n  onMouseLeave = () => {\n    clearTimeout(this.timeOut);\n    const { mouseLeaveDelay } = this.props;\n    this.timeOut = setTimeout(() => this.closePopup(), mouseLeaveDelay);\n  };\n\n  getTooltipBoundary = () => {\n    const { keepTooltipInside } = this.props;\n    let boundingBox = {\n      top: 0,\n      left: 0,\n      /* eslint-disable-next-line no-undef */\n      width: window.innerWidth,\n      /* eslint-disable-next-line no-undef */\n      height: window.innerHeight,\n    };\n    if (typeof keepTooltipInside === 'string') {\n      /* eslint-disable-next-line no-undef */\n      const selector = document.querySelector(keepTooltipInside);\n      if (process.env.NODE_ENV !== 'production') {\n        if (selector === null)\n          throw new Error(\n            `${keepTooltipInside} selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value`,\n          );\n      }\n      boundingBox = selector.getBoundingClientRect();\n    }\n    return boundingBox;\n  };\n\n  setPosition = () => {\n    const { modal, isOpen } = this.state;\n    if (modal || !isOpen) return;\n    const {\n      arrow,\n      position,\n      offsetX,\n      offsetY,\n      keepTooltipInside,\n      arrowStyle,\n      className,\n    } = this.props;\n    const helper = this.HelperEl.getBoundingClientRect();\n    const trigger = this.TriggerEl.getBoundingClientRect();\n    const content = this.ContentEl.getBoundingClientRect();\n    const boundingBox = this.getTooltipBoundary();\n    let positions = Array.isArray(position) ? position : [position];\n\n    // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n    if (keepTooltipInside || Array.isArray(position))\n      positions = [...positions, ...POSITION_TYPES];\n\n    const cords = calculatePosition(\n      trigger,\n      content,\n      positions,\n      arrow,\n      {\n        offsetX,\n        offsetY,\n      },\n      boundingBox,\n    );\n    this.ContentEl.style.top = `${cords.top - helper.top}px`;\n    this.ContentEl.style.left = `${cords.left - helper.left}px`;\n    if (arrow) {\n      this.ArrowEl.style.transform = cords.transform;\n      this.ArrowEl.style['-ms-transform'] = cords.transform;\n      this.ArrowEl.style['-webkit-transform'] = cords.transform;\n      this.ArrowEl.style.top = arrowStyle.top || cords.arrowTop;\n      this.ArrowEl.style.left = arrowStyle.left || cords.arrowLeft;\n      this.ArrowEl.classList.add(`popup-arrow`);\n      if (className !== '') {\n        this.ArrowEl.classList.add(`${className}-arrow`);\n      }\n    }\n    if (\n      /* eslint-disable-next-line no-undef */\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue('position') === 'static' ||\n      /* eslint-disable-next-line no-undef */\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue('position') === ''\n    )\n      this.TriggerEl.style.position = 'relative';\n  };\n\n  addWarperAction = () => {\n    const { contentStyle, className, on } = this.props;\n    const { modal } = this.state;\n    const popupContentStyle = modal\n      ? styles.popupContent.modal\n      : styles.popupContent.tooltip;\n\n    const childrenElementProps = {\n      className: `popup-content ${\n        className !== '' ? `${className}-content` : ''\n        }`,\n      style: Object.assign({}, popupContentStyle, contentStyle),\n      ref: this.setContentRef,\n      onClick: e => {\n        e.stopPropagation();\n      },\n    };\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = this.onMouseEnter;\n      childrenElementProps.onMouseLeave = this.onMouseLeave;\n    }\n    return childrenElementProps;\n  };\n\n  renderTrigger = () => {\n    const triggerProps = { key: 'T', ref: this.setTriggerRef };\n    const { on, trigger } = this.props;\n    const { isOpen } = this.state;\n    const onAsArray = Array.isArray(on) ? on : [on];\n    for (let i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = this.togglePopup;\n          break;\n        case 'hover':\n          triggerProps.onMouseEnter = this.onMouseEnter;\n          triggerProps.onMouseLeave = this.onMouseLeave;\n          break;\n        case 'focus':\n          triggerProps.onFocus = this.onMouseEnter;\n          break;\n        default:\n      }\n    }\n\n\n    if (typeof trigger === 'function')\n      return !!trigger && React.cloneElement(trigger(isOpen), triggerProps);\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  renderContent = () => {\n    const { arrow, arrowStyle, children } = this.props;\n    const { modal, isOpen } = this.state;\n    return (\n      <div {...this.addWarperAction()} key=\"C\">\n        {arrow && !modal && (\n          <div\n            ref={this.setArrowRef}\n            style={Object.assign({}, styles.popupArrow, arrowStyle)}\n          />\n        )}\n        {typeof children === 'function'\n          ? children(this.closePopup, isOpen)\n          : children}\n      </div>\n    );\n  };\n\n  render() {\n    const {\n      overlayStyle,\n      closeOnDocumentClick,\n      className,\n      on,\n      trigger,\n    } = this.props;\n    const { modal, isOpen } = this.state;\n    const overlay = isOpen && !(on.indexOf('hover') >= 0);\n    const ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n    return [\n      this.renderTrigger(),\n      overlay && (\n        <BodyEnd\n          key=\"O\"\n          className={`popup-overlay tik-overlay tik-popup-overlay ${\n            className !== '' ? `${className}-overlay` : ''\n            }`}\n          style={Object.assign({}, ovStyle, overlayStyle)}\n          onClick={closeOnDocumentClick ? this.closePopup : undefined}>\n          {modal && this.renderContent()}\n        </BodyEnd>\n      ),\n      isOpen && !modal && this.renderContent(),\n    ];\n  }\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const PropTypes = require('prop-types');\n  const TRIGGER_TYPES = ['hover', 'click', 'focus'];\n\n  Popup.propTypes = {\n    arrowStyle: PropTypes.object,\n    contentStyle: PropTypes.object,\n    overlayStyle: PropTypes.object,\n    className: PropTypes.string,\n    modal: PropTypes.bool,\n    arrow: PropTypes.bool,\n    closeOnDocumentClick: PropTypes.bool,\n    repositionOnResize: PropTypes.bool,\n    disabled: PropTypes.bool,\n    closeOnEscape: PropTypes.bool,\n    lockScroll: PropTypes.bool,\n    offsetX: PropTypes.number,\n    offsetY: PropTypes.number,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    open: PropTypes.bool,\n    defaultOpen: PropTypes.bool,\n    trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.element]), // for uncontrolled component we don't need the trigger Element\n    on: PropTypes.oneOfType([\n      PropTypes.oneOf(TRIGGER_TYPES),\n      PropTypes.arrayOf(PropTypes.oneOf(TRIGGER_TYPES)),\n    ]),\n    children: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.string,\n    ]).isRequired,\n    position: PropTypes.oneOfType([\n      PropTypes.oneOf(POSITION_TYPES),\n      PropTypes.arrayOf(PropTypes.oneOf(POSITION_TYPES)),\n    ]),\n    keepTooltipInside: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  };\n}\n"],"names":["getCoordinatesForPosition","triggerBounding","ContentBounding","position","arrow","offsetX","offsetY","margin","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","popupContent","tooltip","zIndex","background","border","boxShadow","padding","modal","popupArrow","overlay","bottom","right","display","BodyEnd","React","PureComponent","this","props","className","onClick","_popup","document","createElement","style","cssText","body","appendChild","_render","ReactDOM","unmountComponentAtNode","removeChild","render","children","PropTypes","node","POSITION_TYPES","Popup","setPosition","e","key","_this","closePopup","lockScroll","state","getElementsByTagName","overflow","persist","isOpen","openPopup","disabled","onOpen","setState","onClose","resetScroll","clearTimeout","timeOut","mouseEnterDelay","setTimeout","mouseLeaveDelay","keepTooltipInside","boundingBox","window","innerWidth","innerHeight","querySelector","getBoundingClientRect","arrowStyle","helper","HelperEl","trigger","TriggerEl","content","ContentEl","getTooltipBoundary","positions","Array","isArray","cords","wrapperBox","bestCoords","i","length","contentBox","calculatePosition","ArrowEl","classList","add","getComputedStyle","getPropertyValue","contentStyle","on","popupContentStyle","styles","childrenElementProps","Object","assign","ref","setContentRef","stopPropagation","indexOf","onMouseEnter","onMouseLeave","triggerProps","setTriggerRef","onAsArray","len","togglePopup","onFocus","cloneElement","addWarperAction","setArrowRef","r","setHelperRef","open","defaultOpen","closeOnEscape","repositionOnResize","addEventListener","onEscape","prevProps","undefined","removeEventListener","overlayStyle","closeOnDocumentClick","ovStyle","renderTrigger","renderContent"],"mappings":"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"}